(function(e){function t(t){for(var n,c,r=t[0],a=t[1],l=t[2],u=0,f=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&f.push(s[c][0]),s[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,r=1;r<o.length;r++){var a=o[r];0!==s[a]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},s={app:0},i=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=a;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("85ec"),s=o.n(n);s.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("SwitchBotDemo")],1)},i=[],c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[e._m(0),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 offset-1 text-left"},[e._v("address")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"address col-6",attrs:{type:"text"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 offset-1 text-left"},[e._v("port")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"port"}],staticClass:"port col-6",attrs:{type:"text"},domProps:{value:e.port},on:{input:function(t){t.target.composing||(e.port=t.target.value)}}})]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 offset-1 text-left"},[e._v("device list")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"col-6",attrs:{size:"5"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?o:o[0]}}},e._l(e.devices,(function(t){return o("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 offset-1 text-left"},[e._v("button profile")]),o("input",{staticClass:"col-2",attrs:{type:"button",value:"push"},on:{click:e.onClickPush}}),o("input",{staticClass:"col-2",attrs:{type:"button",value:"down"},on:{click:e.onClickDown}}),o("input",{staticClass:"col-2",attrs:{type:"button",value:"up"},on:{click:e.onClickUp}})]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 offset-1 text-left"},[e._v("switch profile")]),o("input",{staticClass:"col-3",attrs:{type:"button",value:"turn on"},on:{click:e.onClickTurnOn}}),o("input",{staticClass:"col-3",attrs:{type:"button",value:"turn off"},on:{click:e.onClickTurnOff}})])])},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"title mx-auto"},[e._v("SwitchBot DemoApp for JS")])])}],a=(o("c975"),o("a434"),o("b0c0"),o("ac1f"),o("5319"),{name:"SwitchBotDemoAppJS",data:function(){return{address:void 0,port:void 0,accessToken:void 0,devices:new Array,selected:void 0,execute:!1,handle:void 0}},mounted:function(){localStorage.address?this.address=localStorage.address:this.address="localhost",localStorage.port?this.port=localStorage.port:this.port="4035",localStorage.accessToken&&(this.accessToken=localStorage.accessToken),this.dConnectDiscoverDevices(),this.handle=window.setInterval(function(){this.dConnectDiscoverDevices()}.bind(this),1e4)},watch:{address:function(e){localStorage.address=e},port:function(e){localStorage.port=e},accessToken:function(e){localStorage.accessToken=e}},methods:{onClickPush:function(){window.console.log("onClickPush()"),this.dConnectPost("button","push")},onClickDown:function(){window.console.log("onClickDown()"),this.dConnectPost("button","down")},onClickUp:function(){window.console.log("onClickUp()"),this.dConnectPost("button","up")},onClickTurnOn:function(){window.console.log("onClickTurnOn()"),this.dConnectPost("switch","turnOn")},onClickTurnOff:function(){window.console.log("onClickTurnOff()"),this.dConnectPost("switch","turnOff")},dConnectDiscoverDevices:function(){window.console.log("dConnectDiscoverDevices()"),window.console.log("address:"+this.address),window.console.log("port:"+this.port),window.dConnect.setHost(this.address),window.dConnect.setPort(this.port),window.dConnect.discoverDevices(this.accessToken,function(e){window.console.log("response:"+e);var t=this.selected;this.devices.splice(0),this.selected=void 0;for(var o=0;o<e.services.length;o++)window.console.log("service.name:"+e.services[o].name),window.console.log("service.id:"+e.services[o].id),-1!=e.services[o].id.indexOf("SwitchBot.Device")&&this.devices.push({name:e.services[o].name.replace("(SwitchBotDevice)",""),id:e.services[o].id});if(void 0!=t){window.console.log("selected:"+JSON.stringify(t));for(var n=0;n<this.devices.length;n++)this.devices[n].id==t.id&&this.devices[n].name==t.name&&(this.selected=this.devices[n])}}.bind(this),function(e,t){window.console.log("dConnectDiscoverDevicesFailure() errorCode:"+e+", errorMessage:"+t),12!=e&&13!=e&&15!=e||this.dConnectAuthorization()}.bind(this))},dConnectAuthorization:function(){window.console.log("dConnectAuthorization()");var e=Array("button","switch","serviceinformation","servicediscovery");window.dConnect.authorization(e,"SwitchBotDemo",function(e,t){window.console.log("dConnectAuthorizationSuccess() clientId:"+e+", accessToken:"+t),this.accessToken=t,this.dConnectDiscoverDevices()}.bind(this),function(e,t){window.console.log("dConnectAuthorizationFailure() errorCode:"+e+", errorMessage:"+t)}.bind(this))},dConnectPost:function(e,t){if(void 0!=this.selected&&0==this.execute){this.execute=!0,window.console.log("dConnectPost() profile:"+e+", attribute:"+t);var o=new window.dConnect.URIBuilder;o.setProfile(e),o.setAttribute(t),o.setServiceId(this.selected.id);var n=new FormData;n.append("serviceId",this.selected.id),localStorage.accessToken&&n.append("accessToken",localStorage.accessToken),window.dConnect.post(o.build(),void 0,n,function(e){window.console.log("dConnectPostSuccess() response:"+JSON.stringify(e)),this.execute=!1}.bind(this),function(e,t){window.console.log("dConnectPostFailure() errorCode:"+e+", errorMessage:"+t),window.alert("ERROR(errorCode:"+e+", errorMessage:"+t+")"),this.execute=!1}.bind(this))}}},beforeDestroy:function(){window.console.log("beforeDestroy()"),this.handle&&window.clearInterval(this.handle)}}),l=a,d=(o("b969"),o("2877")),u=Object(d["a"])(l,c,r,!1,null,"f9ca0ee6",null),f=u.exports,v={name:"app",components:{SwitchBotDemo:f}},p=v,h=(o("034f"),Object(d["a"])(p,s,i,!1,null,null,null)),w=h.exports,C=o("5f5b");o("f9e3"),o("2dd8");n["default"].use(C["a"]),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(w)}}).$mount("#app")},6284:function(e,t,o){},"85ec":function(e,t,o){},b969:function(e,t,o){"use strict";var n=o("6284"),s=o.n(n);s.a}});
//# sourceMappingURL=app.99c625f6.js.map